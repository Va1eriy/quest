<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>task1</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
    <link rel="stylesheet" href="tasks.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js"></script>
    <script class="u-script" type="text/javascript" src="nicepage.js"></script>
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
  </head>
  <body class="u-body u-image u-image-contain" style="background-position: 50% 50%">
    <section class="u-align-center u-clearfix u-image u-section-1" data-image-width="1980" data-image-height="1100">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-custom-font u-font-raleway u-text u-text-1" align="center">
          Павел, здравствуйте!<br><br>Сейчас внимательно прочитайте каждое слово. <br>Это не просто сайт, посвещенный дню вашего рожденья.
          Это череда заданий, которые привидут вас к цели. А что это за цель, вы узнаите позже!
          Как и в любом задании есть диференциация: поэтому будьте внимательны, может быть что-то покажется вам странным.
          В любом случае, после такого задания хорошо выйти на терасу с кофейком и отдохнуть. Удачи!
        </p>
        <p align="center">
          <input type="text" class="textField u-radius-8" name="key" id="inputKey">
          <button onclick="verifyKey()" class=" u-btn-round u-button-style u-hover-palette-1-light-1 u-palette-1-base u-radius-8 u-btn-1">Ответить</button>
          <section class="bgBlock u-font-raleway errorText u-custom-font u-font-raleway u-text" align="center">
            <font align="center" color="#ae4343" id="result"> </font>
          </section>
        </p>
      </div>
    </section>
    <script>
      function verifyHandler(xmlHttp)
      {
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
          window.location.replace(xmlHttp.responseText);
        }
        else
        {
          document.getElementById("result").innerHTML = xmlHttp.responseText;
          console.log('err', xmlHttp.responseText)
        }
      }
      function verifyKey()
      {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.withCredentials = true
        var key = document.getElementById("inputKey").value;
        xmlHttp.onreadystatechange = function () {
        verifyHandler(xmlHttp) }
        // const url='http://localhost:5000/1/?key=' + key;
        const url='https://devholo.me/flask/1/?key=' + key;
        xmlHttp.open("GET", url, true);
        xmlHttp.send();
      }
    </script>
  </body>
</html>
